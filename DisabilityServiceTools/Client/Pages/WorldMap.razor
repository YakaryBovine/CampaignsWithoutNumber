@page "/worldmap"
@using Syncfusion.Blazor.Maps
@using CampaignsWithoutNumber.Shared.DataTransferObjects
@inject HttpClient HttpClient

<SfMaps Height="800px" Width="100%">
    <MapsZoomSettings Enable="true">
        <MapsZoomToolbarSettings>
            <MapsZoomToolbarButton ToolbarItems="new List<ToolbarItem> { ToolbarItem.Zoom, ToolbarItem.ZoomIn, ToolbarItem.ZoomOut,
    ToolbarItem.Pan, ToolbarItem.Reset }"></MapsZoomToolbarButton>
        </MapsZoomToolbarSettings>
    </MapsZoomSettings>
    <MapsLayers>
        @if (_mapData != null)
        {
            <MapsLayer ShapeData="@_mapData.States" TValue="string">
            </MapsLayer>
        }
    </MapsLayers>
</SfMaps>

@code {
    WorldMapDto? _mapData;

    protected override async Task OnInitializedAsync()
    {
        _mapData = await HttpClient.GetFromJsonAsync<WorldMapDto>("api/worldmap/index");
    }
}