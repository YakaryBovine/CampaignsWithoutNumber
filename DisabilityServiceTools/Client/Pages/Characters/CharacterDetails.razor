@page "/characterdetails/{Id}"
@using CampaignsWithoutNumber.Shared.DataTransferObjects
@inject HttpClient _httpClient

<MudCard>
    <MudCardHeader>
        <CardHeaderContent>
            <MudText Typo="Typo.h4" Class="mb-4">@Character.Name</MudText>
        </CardHeaderContent>
    </MudCardHeader>
    <MudCardContent>
        <MudText Typo="Typo.body1">
            <strong>Name:</strong> @Character.Name
        </MudText>
        <MudText Typo="Typo.body1">
            <strong>Class:</strong> @Character.Class?.Name
        </MudText>
        <MudText Typo="Typo.body1">
            <strong>Level:</strong> @Character.Level
        </MudText>
        <MudText Typo="Typo.body1">
            <strong>Hit points:</strong> @Character.HitPoints
        </MudText>
        <MudText Typo="Typo.body1">
            <strong>Attack bonus:</strong> @Character.AttackBonus
        </MudText>
        <MudText Typo="Typo.body1">
            <strong>Skill points:</strong> @Character.SkillPoints
        </MudText>
    </MudCardContent>
</MudCard>

@code {
    private CharacterDto Character { get; set; } = new();

    [Parameter]
    public string Id { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Character = await _httpClient.GetFromJsonAsync<CharacterDto>($"api/character/details/{Id}");
    }

}