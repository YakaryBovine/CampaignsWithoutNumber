@page "/characterdetails/{Id}"
@using CampaignsWithoutNumber.Shared.DataTransferObjects
@inject HttpClient HttpClient

<MudToolBar>
    <MudIconButton Icon="@Icons.Material.Outlined.Menu" Color="Color.Inherit" Class="mr-5" />
    <MudText Typo="Typo.h6">@Character.Name</MudText>
    <MudSpacer />
    <MudIconButton Icon="@Icons.Material.Outlined.Add" />
    <MudIconButton Icon="@Icons.Material.Outlined.Edit" />
    <MudIconButton Icon="@Icons.Material.Outlined.Remove" Color="Color.Inherit" />
    <MudIconButton Icon="@Icons.Material.Outlined.Settings" Color="Color.Inherit" />
    <MudIconButton Icon="@Icons.Material.Outlined.Notifications" />
    <MudIconButton Icon="@Icons.Material.Outlined.PushPin" />
    <MudIconButton Icon="@Icons.Material.Outlined.PeopleAlt" />
    <MudIconButton Icon="@Icons.Material.Outlined.MoreVert" Color="Color.Inherit" />
</MudToolBar>

<MudTabs Elevation="2" Rounded="true" ApplyEffectsToContainer="true" PanelClass="pa-6">
    <MudTabPanel Text="Stats">
        <MudCard>
            <MudCardContent>
                <MudText Typo="Typo.body1">
                    <strong>Class:</strong> @Character.Class?.Name
                </MudText>
                <MudText Typo="Typo.body1">
                    <strong>Level:</strong> @Character.Level
                </MudText>
                <MudText Typo="Typo.body1">
                    <strong>Hit points:</strong> @Character.HitPoints
                </MudText>
                <MudText Typo="Typo.body1">
                    <strong>Attack bonus:</strong> @Character.AttackBonus
                </MudText>
                <MudText Typo="Typo.body1">
                    <strong>Skill points:</strong> @Character.SkillPoints
                </MudText>
            </MudCardContent>
        </MudCard>
    </MudTabPanel>
    <MudTabPanel Text="Actions">
        <MudText>Content Two</MudText>
    </MudTabPanel>
    <MudTabPanel Text="Features">
        <MudText>Content Three</MudText>
    </MudTabPanel>
    <MudTabPanel Text="Inventory" Disabled="true">
        <MudText>Content Disabled</MudText>
    </MudTabPanel>
    <MudTabPanel Text="Build">
        <MudCard Outlined="true">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6">Attributes</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            
            <MudCardContent>
                <MudText>Story of the day</MudText>
                <MudText Typo="Typo.body2">The quick, brown fox jumps over a lazy dog.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
            </MudCardActions>
        </MudCard>
        
        <ClassesCard>
        </ClassesCard>
        
        <MudCard Outlined="true">
            <MudCardHeader>
                <CardHeaderContent>
                    <MudText Typo="Typo.h6">Foci</MudText>
                </CardHeaderContent>
            </MudCardHeader>
            
            <MudCardContent>
                <MudText>Story of the day</MudText>
                <MudText Typo="Typo.body2">The quick, brown fox jumps over a lazy dog.</MudText>
            </MudCardContent>
            <MudCardActions>
                <MudButton Variant="Variant.Text" Color="Color.Primary">Learn More</MudButton>
            </MudCardActions>
        </MudCard>
    </MudTabPanel>
</MudTabs>

@code {
    private CharacterDto Character { get; set; } = new();

    [Parameter]
    public string Id { get; set; }

    protected override async Task OnInitializedAsync()
    {
        Character = await HttpClient.GetFromJsonAsync<CharacterDto>($"api/character/details/{Id}");
    }

}